# LazyVim 按键映射完整手册

> 本手册详细列出了 LazyVim 配置中的所有按键映射，按操作模式和功能区域分类整理。

## 目录

- [操作模式说明](#操作模式说明)
- [Normal 模式按键](#normal-模式按键)
- [Visual 模式按键](#visual-模式按键)
- [Insert 模式按键](#insert-模式按键)
- [Terminal 模式按键](#terminal-模式按键)
- [特殊功能区按键](#特殊功能区按键)

---

## 操作模式说明

- **Normal (n)**: 普通模式，用于浏览和编辑命令
- **Visual (v)**: 可视模式，用于选择文本
- **Insert (i)**: 插入模式，用于输入文本
- **Terminal (t)**: 终端模式，在内置终端中使用
- **Operator (o)**: 操作符等待模式

---

## Normal 模式按键

### 基础导航

| 按键 | 功能 | 说明 |
|------|------|------|
| `j` / `<Down>` | 向下移动 | 智能换行感知移动 |
| `k` / `<Up>` | 向上移动 | 智能换行感知移动 |
| `n` | 下一个搜索结果 | 智能方向跳转 |
| `N` | 上一个搜索结果 | 智能方向跳转 |

### 窗口管理

| 按键 | 功能 | 说明 |
|------|------|------|
| `<C-h>` | 移动到左侧窗口 | 窗口间导航 |
| `<C-j>` | 移动到下方窗口 | 窗口间导航 |
| `<C-k>` | 移动到上方窗口 | 窗口间导航 |
| `<C-l>` | 移动到右侧窗口 | 窗口间导航 |
| `<C-Up>` | 增加窗口高度 | 调整窗口大小 |
| `<C-Down>` | 减少窗口高度 | 调整窗口大小 |
| `<C-Left>` | 减少窗口宽度 | 调整窗口大小 |
| `<C-Right>` | 增加窗口宽度 | 调整窗口大小 |
| `<leader>-` | 水平分割窗口 | 创建新的水平分割 |
| `<leader>\|` | 垂直分割窗口 | 创建新的垂直分割 |
| `<leader>wd` | 删除窗口 | 关闭当前窗口 |
| `<leader>wm` | 切换窗口缩放 | 最大化/还原窗口 |

### 缓冲区操作

| 按键 | 功能 | 说明 |
|------|------|------|
| `<S-h>` / `[b` | 上一个缓冲区 | 切换到前一个缓冲区 |
| `<S-l>` / `]b` | 下一个缓冲区 | 切换到后一个缓冲区 |
| `<leader>bb` | 切换缓冲区 | 快速切换缓冲区 |
| `<leader>\`` | 切换到其他缓冲区 | 在两个缓冲区间切换 |
| `<leader>bd` | 删除缓冲区 | 关闭当前缓冲区 |
| `<leader>bD` | 删除缓冲区和窗口 | 同时关闭缓冲区和窗口 |
| `<leader>bo` | 删除其他缓冲区 | 只保留当前缓冲区 |
| `<leader>bp` | 切换固定状态 | 固定/取消固定缓冲区 |
| `<leader>bP` | 删除非固定缓冲区 | 清理非固定的缓冲区 |
| `<leader>br` | 删除右侧缓冲区 | 关闭右侧所有缓冲区 |
| `<leader>bl` | 删除左侧缓冲区 | 关闭左侧所有缓冲区 |

### 代码编辑

| 按键 | 功能 | 说明 |
|------|------|------|
| `<A-j>` | 向下移动当前行 | 移动整行代码 |
| `<A-k>` | 向上移动当前行 | 移动整行代码 |
| `<leader>cf` | 格式化代码 | 使用 LSP 格式化 |
| `gco` | 在下方添加注释 | 快速添加注释行 |
| `gcO` | 在上方添加注释 | 快速添加注释行 |

### LSP 功能

| 按键 | 功能 | 说明 |
|------|------|------|
| `gd` | 跳转到定义 | 查看符号定义 |
| `gr` | 显示引用 | 查看所有引用位置 |
| `gI` | 跳转到实现 | 查看接口实现 |
| `gy` | 跳转到类型定义 | 查看类型定义 |
| `gD` | 跳转到声明 | 查看符号声明 |
| `K` | 显示悬停信息 | 查看文档/类型信息 |
| `gK` | 显示签名帮助 | 查看函数签名 |
| `<leader>ca` | 代码操作 | 显示可用的代码操作 |
| `<leader>cr` | 重命名 | 重命名符号 |
| `<leader>cR` | 重命名文件 | 重命名当前文件 |
| `<leader>cc` | 运行 CodeLens | 执行 CodeLens 操作 |
| `<leader>cC` | 刷新 CodeLens | 刷新 CodeLens 显示 |
| `<leader>cA` | 源代码操作 | 显示源代码操作 |

### 诊断导航

| 按键 | 功能 | 说明 |
|------|------|------|
| `]d` | 下一个诊断 | 跳转到下一个诊断信息 |
| `[d` | 上一个诊断 | 跳转到上一个诊断信息 |
| `]e` | 下一个错误 | 跳转到下一个错误 |
| `[e` | 上一个错误 | 跳转到上一个错误 |
| `]w` | 下一个警告 | 跳转到下一个警告 |
| `[w` | 上一个警告 | 跳转到上一个警告 |
| `<leader>cd` | 显示行诊断 | 查看当前行的诊断信息 |
| `<leader>xx` | 诊断列表 | 打开诊断列表窗口 |
| `<leader>xX` | 缓冲区诊断 | 显示当前缓冲区诊断 |

### 文件和搜索

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader><space>` | 查找文件 | 在项目中搜索文件 |
| `<leader>ff` | 查找文件（根目录） | 从项目根目录搜索 |
| `<leader>fF` | 查找文件（当前目录） | 从当前目录搜索 |
| `<leader>fg` | 查找 Git 文件 | 搜索 Git 仓库中的文件 |
| `<leader>fr` | 最近文件 | 显示最近打开的文件 |
| `<leader>fR` | 最近文件（cwd） | 当前目录的最近文件 |
| `<leader>fb` | 缓冲区列表 | 显示打开的缓冲区 |
| `<leader>fn` | 新建文件 | 创建新文件 |
| `<leader>fc` | 配置文件 | 快速访问配置文件 |

### 文本搜索

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>/` | 搜索文本（根目录） | 全项目文本搜索 |
| `<leader>sg` | 实时搜索（根目录） | grep 搜索 |
| `<leader>sG` | 实时搜索（cwd） | 当前目录 grep |
| `<leader>sw` | 搜索单词（根目录） | 搜索光标下的单词 |
| `<leader>sW` | 搜索单词（cwd） | 在当前目录搜索单词 |
| `<leader>sb` | 缓冲区行搜索 | 在当前缓冲区搜索 |
| `<leader>sB` | 搜索打开的缓冲区 | 在所有缓冲区搜索 |
| `<leader>sr` | 搜索和替换 | 批量搜索替换 |

### Git 集成

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>gg` | LazyGit（根目录） | 打开 LazyGit 界面 |
| `<leader>gG` | LazyGit（当前目录） | 在当前目录打开 LazyGit |
| `<leader>gf` | Git 文件历史 | 查看当前文件的 Git 历史 |
| `<leader>gl` | Git 日志 | 查看 Git 提交日志 |
| `<leader>gL` | Git 日志（cwd） | 当前目录的 Git 日志 |
| `<leader>gb` | Git 责备行 | 查看当前行的提交信息 |
| `<leader>gB` | Git 浏览器 | 在浏览器中打开仓库 |
| `<leader>gd` | Git 差异 | 查看 Git 差异 |
| `<leader>gs` | Git 状态 | 查看 Git 状态 |

### Git Hunks 操作

| 按键 | 功能 | 说明 |
|------|------|------|
| `]h` | 下一个 hunk | 跳转到下一个更改块 |
| `[h` | 上一个 hunk | 跳转到上一个更改块 |
| `]H` | 最后一个 hunk | 跳转到最后的更改块 |
| `[H` | 第一个 hunk | 跳转到第一个更改块 |
| `<leader>ghs` | 暂存 hunk | 暂存当前更改块 |
| `<leader>ghr` | 重置 hunk | 撤销当前更改块 |
| `<leader>ghS` | 暂存缓冲区 | 暂存整个文件 |
| `<leader>ghu` | 撤销暂存 hunk | 取消暂存更改块 |
| `<leader>ghR` | 重置缓冲区 | 重置整个文件 |
| `<leader>ghp` | 预览 hunk | 预览更改内容 |
| `<leader>ghb` | 责备行 | 显示行的提交信息 |
| `<leader>ghd` | 差异显示 | 显示差异 |
| `<leader>ghD` | 差异显示（HEAD） | 与 HEAD 比较差异 |

### 快速跳转 (Flash)

| 按键 | 功能 | 说明 |
|------|------|------|
| `s` | Flash 跳转 | 快速跳转到目标字符 |
| `S` | Flash 树形跳转 | 树形结构跳转 |
| `r` | 远程 Flash | 操作符模式下的跳转 |
| `R` | 树形搜索 | 树形搜索模式 |

### UI 切换

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>uf` | 切换格式化 | 开启/关闭自动格式化 |
| `<leader>uF` | 切换全局格式化 | 全局格式化开关 |
| `<leader>us` | 切换拼写检查 | 开启/关闭拼写检查 |
| `<leader>uw` | 切换自动换行 | 开启/关闭自动换行 |
| `<leader>uL` | 切换相对行号 | 相对/绝对行号切换 |
| `<leader>ud` | 切换诊断 | 显示/隐藏诊断信息 |
| `<leader>ul` | 切换行号 | 显示/隐藏行号 |
| `<leader>uc` | 切换隐藏级别 | 调整折叠级别 |
| `<leader>uT` | 切换 Treesitter | 开启/关闭语法高亮 |
| `<leader>ub` | 切换背景 | 明暗主题切换 |
| `<leader>uh` | 切换 LSP 提示 | 显示/隐藏内联提示 |
| `<leader>uG` | 切换 Git 符号 | 显示/隐藏 Git 标记 |

### 终端操作

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>ft` | 打开终端（根目录） | 在项目根目录打开终端 |
| `<leader>fT` | 打开终端（当前目录） | 在当前目录打开终端 |
| `<C-/>` | 打开终端 | 快速打开终端窗口 |

### 标签页管理

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader><tab>l` | 最后一个标签 | 切换到上次访问的标签 |
| `<leader><tab>o` | 关闭其他标签 | 只保留当前标签 |
| `<leader><tab>f` | 第一个标签 | 跳转到第一个标签 |
| `<leader><tab><tab>` | 新建标签 | 创建新的标签页 |
| `<leader><tab>]` | 下一个标签 | 切换到下一个标签 |
| `<leader><tab>d` | 关闭标签 | 关闭当前标签 |
| `<leader><tab>[` | 上一个标签 | 切换到上一个标签 |

### TODO 注释

| 按键 | 功能 | 说明 |
|------|------|------|
| `]t` | 下一个 TODO | 跳转到下一个 TODO 注释 |
| `[t` | 上一个 TODO | 跳转到上一个 TODO 注释 |
| `<leader>xt` | TODO 列表 | 显示所有 TODO |
| `<leader>xT` | TODO/FIX/FIXME 列表 | 显示特定类型注释 |
| `<leader>st` | 搜索 TODO | 搜索 TODO 注释 |
| `<leader>sT` | 搜索 TODO/Fix/Fixme | 搜索多种类型注释 |

### 快速修复和位置列表

| 按键 | 功能 | 说明 |
|------|------|------|
| `]q` | 下一个快速修复项 | 快速修复列表导航 |
| `[q` | 上一个快速修复项 | 快速修复列表导航 |
| `<leader>xq` | 快速修复列表 | 打开快速修复窗口 |
| `<leader>xl` | 位置列表 | 打开位置列表窗口 |

### 其他功能

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>qq` | 退出所有 | 退出 Neovim |
| `<leader>K` | Keywordprg | 查看帮助文档 |
| `<leader>l` | 打开 Lazy | 插件管理器 |
| `<leader>L` | LazyVim 更新日志 | 查看更新日志 |
| `<leader>ur` | 重绘/清除高亮 | 刷新显示 |
| `<leader>ui` | 检查位置 | 检查当前位置信息 |
| `<leader>uI` | 检查树 | 查看语法树 |
| `<C-s>` | 保存文件 | 快速保存 |
| `<Esc>` | 清除搜索高亮 | 取消高亮显示 |

---

## Visual 模式按键

### 文本操作

| 按键 | 功能 | 说明 |
|------|------|------|
| `<` | 向左缩进 | 减少缩进（保持选中） |
| `>` | 向右缩进 | 增加缩进（保持选中） |
| `<A-j>` | 向下移动选中行 | 移动多行代码 |
| `<A-k>` | 向上移动选中行 | 移动多行代码 |

### 搜索相关

| 按键 | 功能 | 说明 |
|------|------|------|
| `n` | 下一个搜索结果 | 智能方向跳转 |
| `N` | 上一个搜索结果 | 智能方向跳转 |

### Git Hunks (Visual)

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>ghs` | 暂存选中 hunk | 暂存选中的更改 |
| `<leader>ghr` | 重置选中 hunk | 撤销选中的更改 |

---

## Insert 模式按键

### 编辑辅助

| 按键 | 功能 | 说明 |
|------|------|------|
| `<A-j>` | 向下移动当前行 | 在插入模式移动行 |
| `<A-k>` | 向上移动当前行 | 在插入模式移动行 |
| `,` | 添加撤销断点 | 创建撤销点 |
| `.` | 添加撤销断点 | 创建撤销点 |
| `;` | 添加撤销断点 | 创建撤销点 |
| `<C-s>` | 保存文件 | 快速保存 |

### LSP 辅助

| 按键 | 功能 | 说明 |
|------|------|------|
| `<C-k>` | 签名帮助 | 显示函数签名信息 |

### 代码片段

| 按键 | 功能 | 说明 |
|------|------|------|
| `<Tab>` | 下一个代码片段 | 跳转到下一个占位符 |
| `<S-Tab>` | 上一个代码片段 | 跳转到上一个占位符 |

---

## Terminal 模式按键

### 终端控制

| 按键 | 功能 | 说明 |
|------|------|------|
| `<C-/>` | 隐藏终端 | 关闭终端窗口 |
| `<C-h>` | 移动到左侧窗口 | 从终端切换到其他窗口 |
| `<C-j>` | 移动到下方窗口 | 从终端切换到其他窗口 |
| `<C-k>` | 移动到上方窗口 | 从终端切换到其他窗口 |
| `<C-l>` | 移动到右侧窗口 | 从终端切换到其他窗口 |
| `<Esc><Esc>` | 进入 Normal 模式 | 在终端中进入普通模式 |

---

## 特殊功能区按键

### 调试器 (DAP)

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>db` | 切换断点 | 设置/取消断点 |
| `<leader>dB` | 条件断点 | 设置条件断点 |
| `<leader>dc` | 运行/继续 | 开始或继续调试 |
| `<leader>da` | 带参数运行 | 使用参数启动调试 |
| `<leader>dC` | 运行到光标 | 运行到光标位置 |
| `<leader>dt` | 终止调试 | 停止调试会话 |
| `<leader>dP` | 暂停 | 暂停执行 |
| `<leader>di` | 单步进入 | Step Into |
| `<leader>do` | 单步跳出 | Step Out |
| `<leader>dO` | 单步跳过 | Step Over |
| `<leader>dg` | 跳转到行 | 跳转但不执行 |
| `<leader>dj` | 向下（堆栈） | 堆栈导航 |
| `<leader>dk` | 向上（堆栈） | 堆栈导航 |
| `<leader>ds` | 会话 | 管理调试会话 |
| `<leader>dr` | 切换 REPL | 打开/关闭 REPL |
| `<leader>dl` | 运行最后一次 | 重新运行上次调试 |
| `<leader>du` | 切换调试 UI | 显示/隐藏调试界面 |
| `<leader>de` | 求值表达式 | 计算表达式值 |

### Trouble 诊断工具

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>xx` | 诊断列表 | 工作区诊断 |
| `<leader>xX` | 缓冲区诊断 | 当前文件诊断 |
| `<leader>cs` | 符号列表 | 文档符号 |
| `<leader>cS` | LSP 引用/定义 | 查看引用和定义 |
| `<leader>xL` | 位置列表 | Trouble 位置列表 |
| `<leader>xQ` | 快速修复列表 | Trouble 快速修复 |

### Noice 消息管理

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>snl` | 显示最后消息 | 查看最后一条消息 |
| `<leader>snh` | 显示消息历史 | 查看所有历史消息 |
| `<leader>sna` | 显示所有消息 | 显示所有消息 |
| `<leader>snd` | 取消所有消息 | 清除所有消息 |
| `<leader>snt` | Noice 选择器 | 打开 Noice 选择器 |

### Which-key 帮助

| 按键 | 功能 | 说明 |
|------|------|------|
| `<leader>?` | 显示按键映射 | 查看缓冲区按键 |
| `<C-w><space>` | 窗口水合模式 | 窗口操作帮助 |

---

## 按键前缀说明

### Leader 键组合

- `<leader>` - 默认为空格键
- `<leader>b` - 缓冲区相关操作
- `<leader>c` - 代码/LSP 相关操作
- `<leader>d` - 调试器相关操作
- `<leader>f` - 文件相关操作
- `<leader>g` - Git 相关操作
- `<leader>gh` - Git Hunk 操作
- `<leader>s` - 搜索相关操作
- `<leader>sn` - Noice 消息操作
- `<leader>t` - 终端相关操作
- `<leader>u` - UI 切换操作
- `<leader>w` - 窗口相关操作
- `<leader>x` - 诊断/Trouble 操作
- `<leader><tab>` - 标签页操作

### 方括号导航

- `[` - 向前/上一个
- `]` - 向后/下一个

用于导航各种列表项：
- `[b` / `]b` - 缓冲区
- `[d` / `]d` - 诊断
- `[e` / `]e` - 错误
- `[w` / `]w` - 警告
- `[h` / `]h` - Git hunks
- `[t` / `]t` - TODO 注释
- `[q` / `]q` - 快速修复项

### 控制键组合

- `<C-h/j/k/l>` - 窗口导航
- `<C-方向键>` - 窗口大小调整
- `<C-s>` - 保存文件
- `<C-/>` - 终端操作

### Alt 键组合

- `<A-j>` / `<A-k>` - 行移动
- `<A-n>` / `<A-p>` - 引用跳转

---

## 提示和技巧

1. **快速导航**: 使用 `s` 键激活 Flash 跳转，可以快速跳转到屏幕上的任何位置
2. **窗口管理**: 使用 `<C-w><space>` 激活窗口水合模式，查看所有窗口操作
3. **搜索优化**: 使用 `<leader>sg` 进行实时 grep 搜索，比普通搜索更强大
4. **Git 集成**: 使用 `<leader>gg` 打开 LazyGit，获得完整的 Git 图形界面
5. **代码跳转**: 使用 `gd` 跳转定义，`gr` 查看引用，`K` 查看文档
6. **批量操作**: Visual 模式下选中文本后，使用 `>` 或 `<` 可以调整缩进
7. **终端使用**: 使用 `<C-/>` 快速打开/关闭终端
8. **诊断查看**: 使用 `<leader>xx` 打开诊断列表，快速查看所有问题

---

## 自定义按键映射

用户可以在 `~/.config/nvim/lua/config/keymaps.lua` 文件中添加自定义按键映射。

示例：
```lua
-- 添加自定义按键映射
local map = vim.keymap.set

-- Normal 模式映射
map("n", "<leader>custom", "<cmd>echo 'Custom mapping'<cr>", { desc = "Custom mapping" })

-- Visual 模式映射
map("v", "<leader>custom", "<cmd>echo 'Visual custom'<cr>", { desc = "Visual custom" })
```

---

## 常用工作流

### 代码编辑工作流
1. `<leader><space>` - 查找文件
2. `gd` - 跳转到定义
3. `<leader>ca` - 显示代码操作
4. `<leader>cf` - 格式化代码
5. `<C-s>` - 保存文件

### Git 工作流
1. `<leader>gg` - 打开 LazyGit
2. `]h` / `[h` - 浏览更改
3. `<leader>ghs` - 暂存更改
4. `<leader>ghp` - 预览更改

### 调试工作流
1. `<leader>db` - 设置断点
2. `<leader>dc` - 开始调试
3. `<leader>di` - 单步进入
4. `<leader>de` - 求值表达式
5. `<leader>dt` - 终止调试

---

## 注意事项

- 某些按键映射可能依赖于特定插件的安装
- Leader 键默认为空格键，可以在配置中修改
- 部分功能需要 LSP 服务器支持
- Terminal 模式下的按键映射可能因终端而异

---

*本手册基于 LazyVim 默认配置生成，具体按键可能因个人配置而有所不同。*