## 最小单片机系统

<br/>

### 0x01 电源

<br/>

### 0x02 时钟

<br/>

### 0x03 复位

<br/>

### 0x04 启动方式

Boot0:

Boot1: 

STM32的启动方式主要通过BOOT引脚配置，以下是三种主要启动模式及其详解：

---

#### 1. **从主闪存启动（BOOT0=0）**

- **配置**：BOOT0引脚接低电平（GND），BOOT1可任意（通常接GND）。
- **特点**：
  - 程序从内部Flash（主存储器）开始执行，用户代码通常烧录在此。
  - 最常用模式，复位后CPU直接从`0x08000000`（Flash起始地址）读取指令。 
- **应用场景**：常规程序运行、产品发布模式。

---

#### 2. **从系统存储器启动（BOOT0=1，BOOT1=0）**

- **配置**：BOOT0接高电平（VCC），BOOT1接低电平（GND）。
- **特点**：
  - 程序从系统存储器（System Memory）启动，该区域预存ST出厂固件（如串口烧录程序）。
  - 常用于通过串口（USART）或USB更新用户Flash（如使用`STM32CubeProgrammer`）。
- **应用场景**：无调试器时的固件升级（DFU模式）。

---

#### 3. **从内置SRAM启动（BOOT0=1，BOOT1=1）**

- **配置**：BOOT0和BOOT1均接高电平（VCC）。
- **特点**：
  - 程序从SRAM（`0x20000000`）启动，代码需通过调试器临时加载到RAM。
  - 掉电后代码丢失，适合快速调试或验证硬件。
- **应用场景**：调试阶段、免烧写Flash的临时测试。

---

#### **关键注意事项**

1. **引脚状态**：启动模式由复位时的BOOT引脚电平决定，复位后可修改引脚功能。
2. **地址映射**：
   - Flash启动时，`0x08000000`被映射到`0x00000000`（ARM内核从0地址取指令）。
   - 其他模式类似，对应存储器地址会映射到`0x00000000`。
3. **选项字节（Option Bytes）**：可配置硬件保护、读保护等，需谨慎操作。

---

#### **如何选择启动模式？**

- **正常应用**：主闪存启动（BOOT0=0）。
- **烧录固件**：系统存储器启动（BOOT0=1，BOOT1=0）+ 烧录工具。
- **调试RAM代码**：SRAM启动（BOOT0=1，BOOT1=1）+ 调试器（如ST-Link）。

---

#### **扩展知识**

- **硬件设计**：建议在BOOT0/BOOT1引脚添加下拉电阻（默认主闪存启动），避免悬空。
- **软件跳转**：程序运行中可通过修改`VTOR`寄存器或跳转指令切换代码执行位置（如从Flash跳转到RAM执行）。

如有具体型号（如STM32F1/F4/H7等），细节可能略有差异，需参考对应《参考手册》的"Boot configuration"章节。

<br/>

### 0x05 串口下载接口

<br/>

### 0x06 MCU
